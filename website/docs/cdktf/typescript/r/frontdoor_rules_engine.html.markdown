---
subcategory: "Network"
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_frontdoor_rules_engine"
description: |-
  Manages an Azure Front Door (classic) Rules Engine configuration and rules.
---


<!-- Please do not edit this file, it is generated. -->
# azurerm_frontdoor_rules_engine

!> **IMPORTANT** This deploys an Azure Front Door (classic) resource which has been deprecated and will receive security updates only. Please migrate your existing Azure Front Door (classic) deployments to the new [Azure Front Door (standard/premium) resources](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_custom_domain). For your convenience, the service team has exposed a `Front Door Classic` to `Front Door Standard/Premium` [migration tool](https://learn.microsoft.com/azure/frontdoor/tier-migration) to allow you to migrate your existing `Front Door Classic` instances to the new `Front Door Standard/Premium` product tiers.

Manages an Azure Front Door (classic) Rules Engine configuration and rules.

## Example Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as azurerm from "./.gen/providers/azurerm";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const azurermResourceGroupExample = new azurerm.resourceGroup.ResourceGroup(
      this,
      "example",
      {
        location: "West Europe",
        name: "example-rg",
      }
    );
    const azurermFrontdoorExample = new azurerm.frontdoor.Frontdoor(
      this,
      "example_1",
      {
        backendPool: [
          {
            backend: [
              {
                address: "www.bing.com",
                hostHeader: "www.bing.com",
                httpPort: 80,
                httpsPort: 443,
              },
            ],
            healthProbeName: "exampleHealthProbeSetting1",
            loadBalancingName: "exampleLoadBalancingSettings1",
            name: "exampleBackendBing",
          },
        ],
        backendPoolHealthProbe: [
          {
            name: "exampleHealthProbeSetting1",
          },
        ],
        backendPoolLoadBalancing: [
          {
            name: "exampleLoadBalancingSettings1",
          },
        ],
        frontendEndpoint: [
          {
            hostName: "example-FrontDoor.azurefd.net",
            name: "exampleFrontendEndpoint1",
          },
        ],
        name: "example",
        resourceGroupName: cdktf.Token.asString(
          azurermResourceGroupExample.name
        ),
        routingRule: [
          {
            acceptedProtocols: ["Http", "Https"],
            frontendEndpoints: ["exampleFrontendEndpoint1"],
            name: "exampleRoutingRule1",
            patternsToMatch: ["/*"],
          },
        ],
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    azurermFrontdoorExample.overrideLogicalId("example");
    new azurerm.frontdoorRulesEngine.FrontdoorRulesEngine(
      this,
      "example_rules_engine",
      {
        frontdoorName: cdktf.Token.asString(azurermFrontdoorExample.name),
        name: "exampleRulesEngineConfig1",
        resourceGroupName: cdktf.Token.asString(
          azurermFrontdoorExample.resourceGroupName
        ),
        rule: [
          {
            action: {
              responseHeader: [
                {
                  headerActionType: "Append",
                  headerName: "X-TEST-HEADER",
                  value: "Append Header Rule",
                },
              ],
            },
            name: "debuggingoutput",
            priority: 1,
          },
          {
            action: {
              responseHeader: [
                {
                  headerActionType: "Overwrite",
                  headerName: "Access-Control-Allow-Origin",
                  value: "*",
                },
                {
                  headerActionType: "Overwrite",
                  headerName: "Access-Control-Allow-Credentials",
                  value: "true",
                },
              ],
            },
            matchCondition: [
              {
                operator: "Equal",
                value: ["GET", "POST"],
                variable: "RequestMethod",
              },
            ],
            name: "overwriteorigin",
            priority: 2,
          },
        ],
      }
    );
  }
}

```

## Argument Reference

The following arguments are supported:

* `name` - (Required) The name of the Rules engine configuration. Changing this forces a new resource to be created. 

* `frontdoorName` - (Required) The name of the Front Door instance. Changing this forces a new resource to be created.

* `resourceGroupName` - (Required) The name of the resource group. Changing this forces a new resource to be created.

* `enabled` - (Optional) Whether this Rules engine configuration is enabled? Defaults to `true`.

* `rule` - (Optional) A `rule` block as defined below.

---

The `rule` block supports the following:

* `name` - (Required) The name of the rule.

* `priority` - (Required) Priority of the rule, must be unique per rules engine definition.

* `action` - (Optional) An `action` block as defined below.

* `matchCondition` - (Optional) One or more `matchCondition` block as defined below.

---

The `action` block supports the following:

* `requestHeader` - (Optional) A `requestHeader` block as defined below.

* `responseHeader` - (Optional) A `responseHeader` block as defined below.

---

The `requestHeader` block supports the following:

* `headerActionType` - (Optional) can be set to `overwrite`, `append` or `delete`.

* `headerName` - (Optional) header name (string).

* `value` - (Optional) value name (string).

---

The `responseHeader` block supports the following:

* `headerActionType` - (Optional) can be set to `overwrite`, `append` or `delete`.

* `headerName` - (Optional) header name (string).

* `value` - (Optional) value name (string).

---

The `matchCondition` block supports the following:

* `variable` - (Optional) can be set to `isMobile`, `remoteAddr`, `requestMethod`, `queryString`, `postArgs`, `requestUri`, `requestPath`, `requestFilename`, `requestFilenameExtension`,`requestHeader`,`requestBody` or `requestScheme`.

* `selector` - (Optional) match against a specific key when `variable` is set to `postArgs` or `requestHeader`. It cannot be used with `queryString` and `requestMethod`.

* `operator` - (Required) can be set to `any`, `ipMatch`, `geoMatch`, `equal`, `contains`, `lessThan`, `greaterThan`, `lessThanOrEqual`, `greaterThanOrEqual`, `beginsWith` or `endsWith`

* `transform` - (Optional) can be set to one or more values out of `lowercase`, `removeNulls`, `trim`, `uppercase`, `urlDecode` and `urlEncode`

* `negateCondition` - (Optional) can be set to `true` or `false` to negate the given condition. Defaults to `true`.

* `value` - (Optional) (array) can contain one or more strings.

## Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/language/resources/syntax#operation-timeouts) for certain actions:

* `read` - (Defaults to 5 minutes) Used when retrieving the Frontdoor Rules Engine.
* `create` - (Defaults to 6 hours) Used when creating the Frontdoor Rules Engine.
* `update` - (Defaults to 6 hours) Used when updating the Frontdoor Rules Engine.
* `delete` - (Defaults to 6 hours) Used when deleting the Frontdoor Rules Engine.

## Import

Azure Front Door Rules Engine's can be imported using the `resource id`, e.g.

```shell
terraform import azurerm_frontdoor_rules_engine.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resGroup1/providers/Microsoft.Network/frontdoors/frontdoor1/rulesEngines/rule1
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-103ff18f1f403303a52a83feeeda8ab68af1b1a0a21f769949adeb6ac087616f -->