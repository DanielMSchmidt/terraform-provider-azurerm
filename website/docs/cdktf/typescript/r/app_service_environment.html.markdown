---
subcategory: "App Service (Web Apps)"
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_app_service_environment"
description: |-
  Manages an App Service Environment.

---


<!-- Please do not edit this file, it is generated. -->
# azurerm_app_service_environment

Manages an App Service Environment.

## Example Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as azurerm from "./.gen/providers/azurerm";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const azurermResourceGroupExample = new azurerm.resourceGroup.ResourceGroup(
      this,
      "example",
      {
        location: "West Europe",
        name: "exampleRG1",
      }
    );
    const azurermVirtualNetworkExample =
      new azurerm.virtualNetwork.VirtualNetwork(this, "example_1", {
        addressSpace: ["10.0.0.0/16"],
        location: cdktf.Token.asString(azurermResourceGroupExample.location),
        name: "example-vnet1",
        resourceGroupName: cdktf.Token.asString(
          azurermResourceGroupExample.name
        ),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    azurermVirtualNetworkExample.overrideLogicalId("example");
    const azurermSubnetAse = new azurerm.subnet.Subnet(this, "ase", {
      addressPrefixes: ["10.0.1.0/24"],
      name: "asesubnet",
      resourceGroupName: cdktf.Token.asString(azurermResourceGroupExample.name),
      virtualNetworkName: cdktf.Token.asString(
        azurermVirtualNetworkExample.name
      ),
    });
    new azurerm.subnet.Subnet(this, "gateway", {
      addressPrefixes: ["10.0.2.0/24"],
      name: "gatewaysubnet",
      resourceGroupName: cdktf.Token.asString(azurermResourceGroupExample.name),
      virtualNetworkName: cdktf.Token.asString(
        azurermVirtualNetworkExample.name
      ),
    });
    const azurermAppServiceEnvironmentExample =
      new azurerm.appServiceEnvironment.AppServiceEnvironment(
        this,
        "example_4",
        {
          allowedUserIpCidrs: ["11.22.33.44/32", "55.66.77.0/24"],
          clusterSetting: [
            {
              name: "DisableTls1.0",
              value: "1",
            },
          ],
          frontEndScaleFactor: 10,
          internalLoadBalancingMode: "Web, Publishing",
          name: "example-ase",
          pricingTier: "I2",
          resourceGroupName: cdktf.Token.asString(
            azurermResourceGroupExample.name
          ),
          subnetId: cdktf.Token.asString(azurermSubnetAse.id),
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    azurermAppServiceEnvironmentExample.overrideLogicalId("example");
  }
}

```

## Argument Reference

* `name` - (Required) The name of the App Service Environment. Changing this forces a new resource to be created.

* `subnetId` - (Required) The ID of the Subnet which the App Service Environment should be connected to. Changing this forces a new resource to be created.

~> **NOTE** a /24 or larger CIDR is required. Once associated with an ASE this size cannot be changed.

* `clusterSetting` - (Optional) Zero or more `clusterSetting` blocks as defined below.

* `internalLoadBalancingMode` - (Optional) Specifies which endpoints to serve internally in the Virtual Network for the App Service Environment. Possible values are `none`, `web`, `publishing` and combined value `"Web, Publishing"`. Defaults to `none`. Changing this forces a new resource to be created.

* `pricingTier` - (Optional) Pricing tier for the front end instances. Possible values are `i1`, `i2` and `i3`. Defaults to `i1`.

* `frontEndScaleFactor` - (Optional) Scale factor for front end instances. Possible values are between `5` and `15`. Defaults to `15`.

* `allowedUserIpCidrs` - (Optional) Allowed user added IP ranges on the ASE database. Use the addresses you want to set as the explicit egress address ranges.

~> **NOTE:** `allowedUserIpCidrs` The addresses that will be used for all outbound traffic from your App Service Environment to the internet to avoid asymmetric routing challenge. If you're routing the traffic on premises, these addresses are your NATs or gateway IPs. If you want to route the App Service Environment outbound traffic through an NVA, the egress address is the public IP of the NVA. Please visit [Create your ASE with the egress addresses](https://docs.microsoft.com/azure/app-service/environment/forced-tunnel-support#add-your-own-ips-to-the-ase-azure-sql-firewall)

* `resourceGroupName` - (Required) The name of the Resource Group where the App Service Environment exists. Defaults to the Resource Group of the Subnet (specified by `subnetId`).

* `tags` - (Optional) A mapping of tags to assign to the resource. Changing this forces a new resource to be created.

---

A `clusterSetting` block supports the following:

* `name` - (Required) The name of the Cluster Setting.

* `value` - (Required) The value for the Cluster Setting.

## Attributes Reference

* `id` - The ID of the App Service Environment.

* `internalIpAddress` - IP address of internal load balancer of the App Service Environment.

* `location` - The location where the App Service Environment exists.

* `outboundIpAddresses` - List of outbound IP addresses of the App Service Environment.

* `serviceIpAddress` - IP address of service endpoint of the App Service Environment.

## Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/language/resources/syntax#operation-timeouts) for certain actions:

* `create` - (Defaults to 6 hours) Used when creating the App Service Environment.
* `update` - (Defaults to 6 hours) Used when updating the App Service Environment.
* `read` - (Defaults to 5 minutes) Used when retrieving the App Service Environment.
* `delete` - (Defaults to 6 hours) Used when deleting the App Service Environment.

## Import

The App Service Environment can be imported using the `resource id`, e.g.

```shell
terraform import azurerm_app_service_environment.myAppServiceEnv /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myResourceGroup/providers/Microsoft.Web/hostingEnvironments/myAppServiceEnv
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-3deef4221fa37a79b0eab7c1e229c3668c61c99ab5c68aabd7126fc6938b1a3f -->