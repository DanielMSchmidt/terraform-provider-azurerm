---
subcategory: "Network"
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_frontdoor_rules_engine"
description: |-
  Manages an Azure Front Door (classic) Rules Engine configuration and rules.
---


<!-- Please do not edit this file, it is generated. -->
# azurerm_frontdoor_rules_engine

!> **IMPORTANT** This deploys an Azure Front Door (classic) resource which has been deprecated and will receive security updates only. Please migrate your existing Azure Front Door (classic) deployments to the new [Azure Front Door (standard/premium) resources](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_custom_domain). For your convenience, the service team has exposed a `Front Door Classic` to `Front Door Standard/Premium` [migration tool](https://learn.microsoft.com/azure/frontdoor/tier-migration) to allow you to migrate your existing `Front Door Classic` instances to the new `Front Door Standard/Premium` product tiers.

Manages an Azure Front Door (classic) Rules Engine configuration and rules.

## Example Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.azurerm as azurerm
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        azurerm_resource_group_example = azurerm.resource_group.ResourceGroup(self, "example",
            location="West Europe",
            name="example-rg"
        )
        azurerm_frontdoor_example = azurerm.frontdoor.Frontdoor(self, "example_1",
            backend_pool=[FrontdoorBackendPool(
                backend=[FrontdoorBackendPoolBackend(
                    address="www.bing.com",
                    host_header="www.bing.com",
                    http_port=80,
                    https_port=443
                )
                ],
                health_probe_name="exampleHealthProbeSetting1",
                load_balancing_name="exampleLoadBalancingSettings1",
                name="exampleBackendBing"
            )
            ],
            backend_pool_health_probe=[FrontdoorBackendPoolHealthProbe(
                name="exampleHealthProbeSetting1"
            )
            ],
            backend_pool_load_balancing=[FrontdoorBackendPoolLoadBalancing(
                name="exampleLoadBalancingSettings1"
            )
            ],
            frontend_endpoint=[FrontdoorFrontendEndpoint(
                host_name="example-FrontDoor.azurefd.net",
                name="exampleFrontendEndpoint1"
            )
            ],
            name="example",
            resource_group_name=cdktf.Token.as_string(azurerm_resource_group_example.name),
            routing_rule=[FrontdoorRoutingRule(
                accepted_protocols=["Http", "Https"],
                frontend_endpoints=["exampleFrontendEndpoint1"],
                name="exampleRoutingRule1",
                patterns_to_match=["/*"]
            )
            ]
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        azurerm_frontdoor_example.override_logical_id("example")
        azurerm.frontdoor_rules_engine.FrontdoorRulesEngine(self, "example_rules_engine",
            frontdoor_name=cdktf.Token.as_string(azurerm_frontdoor_example.name),
            name="exampleRulesEngineConfig1",
            resource_group_name=cdktf.Token.as_string(azurerm_frontdoor_example.resource_group_name),
            rule=[FrontdoorRulesEngineRule(
                action=FrontdoorRulesEngineRuleAction(
                    response_header=[FrontdoorRulesEngineRuleActionResponseHeader(
                        header_action_type="Append",
                        header_name="X-TEST-HEADER",
                        value="Append Header Rule"
                    )
                    ]
                ),
                name="debuggingoutput",
                priority=1
            ), FrontdoorRulesEngineRule(
                action=FrontdoorRulesEngineRuleAction(
                    response_header=[FrontdoorRulesEngineRuleActionResponseHeader(
                        header_action_type="Overwrite",
                        header_name="Access-Control-Allow-Origin",
                        value="*"
                    ), FrontdoorRulesEngineRuleActionResponseHeader(
                        header_action_type="Overwrite",
                        header_name="Access-Control-Allow-Credentials",
                        value="true"
                    )
                    ]
                ),
                match_condition=[FrontdoorRulesEngineRuleMatchCondition(
                    operator="Equal",
                    value=["GET", "POST"],
                    variable="RequestMethod"
                )
                ],
                name="overwriteorigin",
                priority=2
            )
            ]
        )
```

## Argument Reference

The following arguments are supported:

* `name` - (Required) The name of the Rules engine configuration. Changing this forces a new resource to be created. 

* `frontdoor_name` - (Required) The name of the Front Door instance. Changing this forces a new resource to be created.

* `resource_group_name` - (Required) The name of the resource group. Changing this forces a new resource to be created.

* `enabled` - (Optional) Whether this Rules engine configuration is enabled? Defaults to `true`.

* `rule` - (Optional) A `rule` block as defined below.

---

The `rule` block supports the following:

* `name` - (Required) The name of the rule.

* `priority` - (Required) Priority of the rule, must be unique per rules engine definition.

* `action` - (Optional) An `action` block as defined below.

* `match_condition` - (Optional) One or more `match_condition` block as defined below.

---

The `action` block supports the following:

* `request_header` - (Optional) A `request_header` block as defined below.

* `response_header` - (Optional) A `response_header` block as defined below.

---

The `request_header` block supports the following:

* `header_action_type` - (Optional) can be set to `Overwrite`, `Append` or `Delete`.

* `header_name` - (Optional) header name (string).

* `value` - (Optional) value name (string).

---

The `response_header` block supports the following:

* `header_action_type` - (Optional) can be set to `Overwrite`, `Append` or `Delete`.

* `header_name` - (Optional) header name (string).

* `value` - (Optional) value name (string).

---

The `match_condition` block supports the following:

* `variable` - (Optional) can be set to `IsMobile`, `RemoteAddr`, `RequestMethod`, `QueryString`, `PostArgs`, `RequestURI`, `RequestPath`, `RequestFilename`, `RequestFilenameExtension`,`RequestHeader`,`RequestBody` or `RequestScheme`.

* `selector` - (Optional) match against a specific key when `variable` is set to `PostArgs` or `RequestHeader`. It cannot be used with `QueryString` and `RequestMethod`.

* `operator` - (Required) can be set to `Any`, `IPMatch`, `GeoMatch`, `Equal`, `Contains`, `LessThan`, `GreaterThan`, `LessThanOrEqual`, `GreaterThanOrEqual`, `BeginsWith` or `EndsWith`

* `transform` - (Optional) can be set to one or more values out of `Lowercase`, `RemoveNulls`, `Trim`, `Uppercase`, `UrlDecode` and `UrlEncode`

* `negate_condition` - (Optional) can be set to `true` or `false` to negate the given condition. Defaults to `true`.

* `value` - (Optional) (array) can contain one or more strings.

## Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/language/resources/syntax#operation-timeouts) for certain actions:

* `read` - (Defaults to 5 minutes) Used when retrieving the Frontdoor Rules Engine.
* `create` - (Defaults to 6 hours) Used when creating the Frontdoor Rules Engine.
* `update` - (Defaults to 6 hours) Used when updating the Frontdoor Rules Engine.
* `delete` - (Defaults to 6 hours) Used when deleting the Frontdoor Rules Engine.

## Import

Azure Front Door Rules Engine's can be imported using the `resource id`, e.g.

```shell
terraform import azurerm_frontdoor_rules_engine.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resGroup1/providers/Microsoft.Network/frontdoors/frontdoor1/rulesEngines/rule1
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-103ff18f1f403303a52a83feeeda8ab68af1b1a0a21f769949adeb6ac087616f -->