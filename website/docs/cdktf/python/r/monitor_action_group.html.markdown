---
subcategory: "Monitor"
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_monitor_action_group"
description: |-
  Manages an Action Group within Azure Monitor

---


<!-- Please do not edit this file, it is generated. -->
# azurerm_monitor_action_group

Manages an Action Group within Azure Monitor.

## Example Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.azurerm as azurerm
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        azurerm_resource_group_example = azurerm.resource_group.ResourceGroup(self, "example",
            location="West Europe",
            name="monitoring-resources"
        )
        data_azurerm_client_config_current =
        azurerm.data_azurerm_client_config.DataAzurermClientConfig(self, "current")
        azurerm_log_analytics_workspace_example =
        azurerm.log_analytics_workspace.LogAnalyticsWorkspace(self, "example_2",
            location=cdktf.Token.as_string(azurerm_resource_group_example.location),
            name="workspace-01",
            resource_group_name=cdktf.Token.as_string(azurerm_resource_group_example.name)
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        azurerm_log_analytics_workspace_example.override_logical_id("example")
        azurerm_monitor_action_group_example =
        azurerm.monitor_action_group.MonitorActionGroup(self, "example_3",
            arm_role_receiver=[MonitorActionGroupArmRoleReceiver(
                name="armroleaction",
                role_id="de139f84-1756-47ae-9be6-808fbbe84772",
                use_common_alert_schema=True
            )
            ],
            automation_runbook_receiver=[MonitorActionGroupAutomationRunbookReceiver(
                automation_account_id="/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-runbooks/providers/Microsoft.Automation/automationAccounts/aaa001",
                is_global_runbook=True,
                name="action_name_1",
                runbook_name="my runbook",
                service_uri="https://s13events.azure-automation.net/webhooks?token=randomtoken",
                use_common_alert_schema=True,
                webhook_resource_id="/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-runbooks/providers/Microsoft.Automation/automationAccounts/aaa001/webHooks/webhook_alert"
            )
            ],
            azure_app_push_receiver=[MonitorActionGroupAzureAppPushReceiver(
                email_address="admin@contoso.com",
                name="pushtoadmin"
            )
            ],
            azure_function_receiver=[MonitorActionGroupAzureFunctionReceiver(
                function_app_resource_id="/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-funcapp/providers/Microsoft.Web/sites/funcapp",
                function_name="myfunc",
                http_trigger_url="https://example.com/trigger",
                name="funcaction",
                use_common_alert_schema=True
            )
            ],
            email_receiver=[MonitorActionGroupEmailReceiver(
                email_address="admin@contoso.com",
                name="sendtoadmin"
            ), MonitorActionGroupEmailReceiver(
                email_address="devops@contoso.com",
                name="sendtodevops",
                use_common_alert_schema=True
            )
            ],
            event_hub_receiver=[MonitorActionGroupEventHubReceiver(
                event_hub_name="eventhub1",
                event_hub_namespace="eventhubnamespace",
                name="sendtoeventhub",
                subscription_id="00000000-0000-0000-0000-000000000000",
                use_common_alert_schema=False
            )
            ],
            itsm_receiver=[MonitorActionGroupItsmReceiver(
                connection_id="53de6956-42b4-41ba-be3c-b154cdf17b13",
                name="createorupdateticket",
                region="southcentralus",
                ticket_configuration="{\\\"PayloadRevision\\\":0,\\\"WorkItemType\\\":\\\"Incident\\\",\\\"UseTemplate\\\":false,\\\"WorkItemData\\\":\\\"{}\\\",\\\"CreateOneWIPerCI\\\":false}",
                workspace_id="${" + data_azurerm_client_config_current.subscription_id + "}|${" + azurerm_log_analytics_workspace_example.workspace_id + "}"
            )
            ],
            logic_app_receiver=[MonitorActionGroupLogicAppReceiver(
                callback_url="https://logicapptriggerurl/...",
                name="logicappaction",
                resource_id="/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-logicapp/providers/Microsoft.Logic/workflows/logicapp",
                use_common_alert_schema=True
            )
            ],
            name="CriticalAlertsAction",
            resource_group_name=cdktf.Token.as_string(azurerm_resource_group_example.name),
            short_name="p0action",
            sms_receiver=[MonitorActionGroupSmsReceiver(
                country_code="1",
                name="oncallmsg",
                phone_number="1231231234"
            )
            ],
            voice_receiver=[MonitorActionGroupVoiceReceiver(
                country_code="86",
                name="remotesupport",
                phone_number="13888888888"
            )
            ],
            webhook_receiver=[MonitorActionGroupWebhookReceiver(
                name="callmyapiaswell",
                service_uri="http://example.com/alert",
                use_common_alert_schema=True
            )
            ]
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        azurerm_monitor_action_group_example.override_logical_id("example")
```

## Argument Reference

The following arguments are supported:

* `name` - (Required) The name of the Action Group. Changing this forces a new resource to be created. 
* `resource_group_name` - (Required) The name of the resource group in which to create the Action Group instance. Changing this forces a new resource to be created.
* `short_name` - (Required) The short name of the action group. This will be used in SMS messages.
* `enabled` - (Optional) Whether this action group is enabled. If an action group is not enabled, then none of its receivers will receive communications. Defaults to `true`.
* `arm_role_receiver` - (Optional) One or more `arm_role_receiver` blocks as defined below.
* `automation_runbook_receiver` - (Optional) One or more `automation_runbook_receiver` blocks as defined below.
* `azure_app_push_receiver` - (Optional) One or more `azure_app_push_receiver` blocks as defined below.
* `azure_function_receiver` - (Optional) One or more `azure_function_receiver` blocks as defined below.
* `email_receiver` - (Optional) One or more `email_receiver` blocks as defined below.
* `event_hub_receiver` - (Optional) One or more `event_hub_receiver` blocks as defined below.
* `itsm_receiver` - (Optional) One or more `itsm_receiver` blocks as defined below.
* `location` - (Optional) The Azure Region where the Action Group should exist. Changing this forces a new Action Group to be created. Defaults to `global`.
* `logic_app_receiver` - (Optional) One or more `logic_app_receiver` blocks as defined below.
* `sms_receiver` - (Optional) One or more `sms_receiver` blocks as defined below.
* `voice_receiver` - (Optional) One or more `voice_receiver` blocks as defined below.
* `webhook_receiver` - (Optional) One or more `webhook_receiver` blocks as defined below.
* `tags` - (Optional) A mapping of tags to assign to the resource.

---

The `arm_role_receiver` block supports the following:

* `name` - (Required) The name of the ARM role receiver.
* `role_id` - (Required) The arm role id.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.

---

The `automation_runbook_receiver` block supports the following:

* `name` - (Required) The name of the automation runbook receiver.
* `automation_account_id` - (Required) The automation account ID which holds this runbook and authenticates to Azure resources.
* `runbook_name` - (Required) The name for this runbook.
* `webhook_resource_id` - (Required) The resource id for webhook linked to this runbook.
* `is_global_runbook` - (Required) Indicates whether this instance is global runbook.
* `service_uri` - (Required) The URI where webhooks should be sent.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.

---

The `azure_app_push_receiver` block supports the following:

* `name` - (Required) The name of the Azure app push receiver.
* `email_address` - (Required) The email address of the user signed into the mobile app who will receive push notifications from this receiver.

---

The `azure_function_receiver` block supports the following:

* `name` - (Required) The name of the Azure Function receiver.
* `function_app_resource_id` - (Required) The Azure resource ID of the function app.
* `function_name` - (Required) The function name in the function app.
* `http_trigger_url` - (Required) The HTTP trigger url where HTTP request sent to.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.

---

The `email_receiver` block supports the following:

* `name` - (Required) The name of the email receiver. Names must be unique (case-insensitive) across all receivers within an action group.
* `email_address` - (Required) The email address of this receiver.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.

---

The `event_hub_receiver` block supports the following:

* `name` - (Required) The name of the EventHub Receiver, must be unique within action group.
* `event_hub_id` - (Optional) The resource ID of the respective Event Hub.
* `event_hub_name` - (Optional) The name of the specific Event Hub queue.
* `event_hub_namespace` - (Optional) The namespace name of the Event Hub.
* `subscription_id` - (Optional) The ID for the subscription containing this Event Hub. Default to the subscription ID of the Action Group.

~> **NOTE:** `event_hub_id` is deprecated in version 3.0 and will be removed in version 4.0 of the AzureRM Provider. Please use `event_hub_name`, `event_hub_name`,and `subscription_id` instead. And `event_hub_name`, `event_hub_name` will be required properties in version 4.0.

* `tenant_id` - (Optional) The Tenant ID for the subscription containing this Event Hub.
* `use_common_alert_schema` - (Optional) Indicates whether to use common alert schema.

---

The `itsm_receiver` block supports the following:

* `name` - (Required) The name of the ITSM receiver.
* `workspace_id` - (Required) The Azure Log Analytics workspace ID where this connection is defined. Format is `<subscription id>|<workspace id>`, for example `00000000-0000-0000-0000-000000000000|00000000-0000-0000-0000-000000000000`.
* `connection_id` - (Required) The unique connection identifier of the ITSM connection.
* `ticket_configuration` - (Required) A JSON blob for the configurations of the ITSM action. CreateMultipleWorkItems option will be part of this blob as well.
* `region` - (Required) The region of the workspace.

-> **NOTE** `ticket_configuration` should be JSON blob with `PayloadRevision` and `WorkItemType` keys (e.g., `ticket_configuration="{\"PayloadRevision\":0,\"WorkItemType\":\"Incident\"}"`), and `ticket_configuration="{}"` will return an error, see more at this [REST API issue](https://github.com/Azure/azure-rest-api-specs/issues/20488)

---

The `logic_app_receiver` block supports the following:

* `name` - (Required) The name of the logic app receiver.
* `resource_id` - (Required) The Azure resource ID of the logic app.
* `callback_url` - (Required) The callback url where HTTP request sent to.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.

---

The `sms_receiver` block supports the following:

* `name` - (Required) The name of the SMS receiver. Names must be unique (case-insensitive) across all receivers within an action group.
* `country_code` - (Required) The country code of the SMS receiver.
* `phone_number` - (Required) The phone number of the SMS receiver.

---

The `voice_receiver` block supports the following:

* `name` - (Required) The name of the voice receiver.
* `country_code` - (Required) The country code of the voice receiver.
* `phone_number` - (Required) The phone number of the voice receiver.

---

The `webhook_receiver` block supports the following:

* `name` - (Required) The name of the webhook receiver. Names must be unique (case-insensitive) across all receivers within an action group.
* `service_uri` - (Required) The URI where webhooks should be sent.
* `use_common_alert_schema` - (Optional) Enables or disables the common alert schema.
* `aad_auth` - (Optional) The `aad_auth` block as defined below

~> **NOTE:** Before adding a secure webhook receiver by setting `aad_auth`, please read [the configuration instruction of the AAD application](https://docs.microsoft.com/azure/azure-monitor/platform/action-groups#secure-webhook).

---

The `aad_auth` block supports the following:.

* `object_id` - (Required) The webhook application object Id for AAD auth.
* `identifier_uri` - (Optional) The identifier URI for AAD auth.
* `tenant_id` - (Optional) The tenant id for AAD auth.

## Attributes Reference

In addition to the Arguments listed above - the following Attributes are exported:

* `id` - The ID of the Action Group.

## Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/language/resources/syntax#operation-timeouts) for certain actions:

* `create` - (Defaults to 30 minutes) Used when creating the Action Group.
* `update` - (Defaults to 30 minutes) Used when updating the Action Group.
* `read` - (Defaults to 5 minutes) Used when retrieving the Action Group.
* `delete` - (Defaults to 30 minutes) Used when deleting the Action Group.

## Import

Action Groups can be imported using the `resource id`, e.g.

```shell
terraform import azurerm_monitor_action_group.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Insights/actionGroups/myagname
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-3aff02855fd780063e73981d38860c22c74f95932f5ce7fb9754c64e927f97fa -->